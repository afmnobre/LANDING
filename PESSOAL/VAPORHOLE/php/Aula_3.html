<h1 class="cyber-h">Aula 3 de PHP</h1>

<h4 class="cyber-h">Funções</h4>


<h4 class="cyber-h">1. Criando uma função Simples</h4>

<strong>Exemplo:</strong><p>

function minhafuncao(){<br>
echo "Ola Mundo com Função";<br>
}<p>

Chamando a função:<br>
minhafuncao();<br>
Resultado: Ola Mundo com Função<p>



<h4 class="cyber-h">2. Criando uma função com Parametros</h4>

<strong>Exemplo:</strong><p>

function imprimeNome($nome){<br>
echo "Meu nome é $nome!";<br>
}<p>

Chamando a função:<br>
imprimeNome("Lucas");<br>
imprimeNome("João");<br>
Resultado: Meu nome é Lucas!<br>
Resultado: Meu nome é João!<p>



<h4 class="cyber-h">3. Criando uma função com mais de um Parametro</h4>

<strong>Exemplo:</strong><p>

function imprimeNomeInteiro($nome, $sobrenome){<br>
echo "Meu nome inteiro é $nome $sobrenome!";<br>
}<p>

Chamando a função:<br>
imprimeNomeInteiro("Lucas", "Nobre Ferreira Martins");<br>
imprimeNomeInteiro("João", "da Silva Sauro");<br>
Resultado: Meu nome é Lucas Nobre Ferreira Martins!<br>
Resultado: Meu nome é João da Silva Sauro!<p>



<h4 class="cyber-h">4. Criando uma função com Parametro DEFAULT</h4>

<strong>Exemplo:</strong><p>

function imprimeNomeInteiro($nome, $sobrenome = "Maciel"){<br>
echo "Meu nome inteiro é $nome $sobrenome!";<br>
}<p>

Chamando a função:<br>
imprimeNomeInteiro("Lucas");<br>
imprimeNomeInteiro("João", "da Silva Sauro");<br>
Resultado: Meu nome é Lucas Maciel!<br>
Resultado: Meu nome é João da Silva Sauro!<p>



<h4 class="cyber-h">5. Criando uma função com Parametro SPLAT OPERATOR "..."</h4>

<strong>Exemplo:</strong><p>

function valores(...$numeros){<br>
echo array_sum($numeros);<br>
}<p>

Chamando a função:<br>
valores(1);<br>
valores(1,2);<br>
valores(1,2,3);<br>
Resultado: 1<br>
Resultado: 3<br>
Resultado: 6<p>



<h4 class="cyber-h">6. Desempacotar array com SPLAT OPERATOR "..."</h4>

<strong>Exemplo:</strong><p>

function soma($a, $b, $c) {<br>
echo $a + $b + $c;<br>
}<p>

$args = array(2,3);<br>
soma(1, ...$args);<p>


<h4 class="cyber-h">7. Função Return</h4>

<strong>Exemplo:</strong><p>

function soma($x, $y){<br>
$z = $x + $y;<br>
return $z;<br>
}<p>

echo "5 + 10 = " . soma(5, 10);<br>



<h4 class="cyber-h">8. Função Recursiva</h4>

É uma função que chama ela mesma, precisa ter cuidado para não fazer um loop infinito.<br>

<strong>Exemplo:</strong><p>


function fatorial($numero){<br><br>

echo "Numero Atual: ".$numero." ";<br><br>

if($numero <2) {<br>
return 1;<br>
}else{<br>
return ($numero * fatorial($numero-1));<br>
}<br>
}<p>

echo "Resultado: ".fatorial(4);<br>



<h4 class="cyber-h">9. Tipar variavel dentro de função - TypeHint</h4>

Podemos determinar o tipo de variavel sera aceita no parametro da função.<br>
Se passarmos um valor FLOAT nesse caso ele convertera para inteiro arredondando para cima ou para baixo de acordo com o numero.<br>

<strong>Exemplo:</strong><p>

function soma(int $a, int $b){<br>
return $a + $b;<br>
}<p>

soma(1,2);<br>



<h4 class="cyber-h">10. TypeHint + Splash OPERATOR</h4>

<strong>Exemplo:</strong><p>

function soma(int ...$numeros){<br>
echo array_sum($numeros);<br>
}<p>

soma(1,2,3,4);<br>
soma(1,2,3,4,5,6,7);<br>


<h4 class="cyber-h">11. Determinando que a saida de uma função vai ser inteiro.</h4>

<strong>Exemplo:</strong><p>

function soma(float $a, float $b) : int {<br>
return intval($a + $b);<br>
}<p>

echo soma(1.2,2.5);<br>
echo soma(1.8,2.2);<br>



<h4 class="cyber-h">12. Nullable Types (php 7.1 >=) "?".</h4>

Determina que o valor do parametro ou retorno da função pode receber ou retornar NULO(NULL).<br>
Mesmo assim é obrigado a passar um valor ou NULLO.<br>

<strong>Exemplo:</strong><p>

function soma(float $a, float $b, ?int $c) : float {<br>
return $a + $b + $c;<br>
}<p>

echo soma(5.6,2.6,null);<br>



<h4 class="cyber-h">13. Strict Types</h4>

Força o PHP a checar a tipagem de todas as variaveis e não aceitar mais valores não consistentes com o tipo da variavel.<br>

<strong>Exemplo de declaração:</strong><p>

declare(strict_types=1);<p>



<h4 class="cyber-h">14. Passagem de valor por referencia "&"</h4>

Cria um vinculo com o valor da variavel e modifica o valor da variavel de acordo com o que é determinado na função.<br>
Sem isso ele só copia o valor da variavel dentro do PARAMETRO e fica sem vinculo com a variavel.<br>

<strong>Exemplo:</strong><p>

function somar($var1, &$var2){<br>
$var2 += 2;<br>
return $var1 + $var2;<br>
}<p>

$x = 5;<br>
echo somar(3, $x);<br>
echo $x;<p>


function somar($var1, &$var2){
    $var2 += 2;
    return $var1 + $var2;
}

$x = ". $x = 5;
<br>
Chamando a função = ".somar(3, $x);
<br>
valor de $x modificado = ".$x;



<h4 class="cyber-h">15. Função anônima (Closure) - Função sem nome.</h4>

Cria uma função sem nome que pode ser chamada por uma variavel.<br>

<strong>Exemplo:</strong><p>

$x = function($txt){<br>
echo ("Hello $txt !");<br>
};<p>

$x("World");<br>
$x("PHP");<br>


<h4 class="cyber-h">16. Chamando variavel externa dentro de CLOSURE função.</h4>

Adiciona variavel externa dentro de função.<br>

<strong>Exemplo:</strong><p>


$x = 10;<p>

$texto = function() use ($x) { <br>
echo "Olá minha CLOSURE! $x";<br>
};<p>

$texto();<p>



<h4 class="cyber-h">17. Função anônima como parametro de outra função.</h4>

Determina o valor de uma função CLOSURE e executa a closure em outra função com valor definido.<br>

<strong>Exemplo 1:</strong><p>

function teste_closure(callable $a){<br>
$b = 20;<br>
return $a($b);<br>
}<p>

teste_closure(function($x){<br>
echo($x+10);<br>
});<p>

<strong>Exemplo 2:</strong><p>

function calculaimposto(callable $formula){<br>
$impostos = [10,22,34,46,58];<p>

for($i = 0; $i < count($impostos); $i++){<br>
$imposto[$i] = $formula($impostos[$i]);<br>
}<br>
return $impostos;<br>
}<p>

$resultado = calculaimposto(function($valor){<br>
return $valor * 0.1;<br>
});<p>


<strong>Exemplo 3:</strong><p>

function add($x,$y){<br>
return $x + $y();<br>
}<p>

echo add(3, function(){ return 5; });<p>



<h4 class="cyber-h">18. Constantes.</h4>

Diferente de uma variavel as contantes não alteram o valor e podem ser acessadas sem uso do cifrão.<br>

<strong>Exemplo:</strong><p>

define("MINHA_CONSTANTE","nunca vai mudar");<br>
define("OUTRA_CONSTANTE","não importa o case", true);<br>
define("PI",3.141592);<p>

echo MINHA_CONSTANTE;<br>
echo outra_constante;<br>
echo PI;<p>



<h4 class="cyber-h">19. DATE e DATETIME.</h4>

Função que retorna Data e Hora em diversos formatos.<br>

<strong>Exemplo:</strong><p>

## Definindo TIMEZONE:<br>
date_default_timezone_set('America/Sao_Paulo');<p>

## Data:<br>
echo date("d");<br>
echo date("d/m/y");<p>

## Hora:<br>
echo date("h:i:s");<br>
echo date("d/m/y h:i:s");<p>








<h1 class="cyber-h">Aula 5 de PHP</h1>

<h4 class="cyber-h">Classes, Objetos, Atributos, Herança, Visibilidade e Encapsulamento.</h4>

<h4 class="cyber-h">1. PHP OO - PHP ORIENTADO A OBJETO.</h4>

<p><strong>CLASSE</strong></p>

<pre><span class="code-block">
<p>NOME:</p> 
<ol><ul>+ Pessoa</ul></ol>
<p>ATRIBUTOS:</p>
<ol><ul>+ Nome</ul><ul>+ Sobrenome</ul><ul>+ dataNascimento</ul><ul>+ cpf </ul></ol>
<p>MÉTODOS:</p>
<ol><ul>+ nomeCompleto()</ul><ul>+ idade()</ul></ol>

</span></pre>

<p><strong>CLASSE EM PHP</strong></p>

<pre><span class="code-block">
class Pessoa{ 
	public $nome;
	public $sobrenome;
	public $dataNascimento;
	public $cpf;
		public function nomeCompleto(){
			return $this->nome." ".$this->sobrenome;
		}
}

</span></pre>

<p><strong>Estanciando a classe pessoa em uma variável.</strong></p>

<pre><span class="code-block">
$pessoa1 = new Pessoa();
$pessoa1->nome = "Lucas";
$pessoa1->sobrenome = "Nobre Ferreira Martins";
$pessoa1->dataNascimento = "15/09/1987";
$pessoa1->cpf = "358.525.145-45";

var_dump($pessoa1);

RESULTADO: 

object(Pessoa)#1 (4) { 
	["nome"]=> string(5) "Lucas" 
	["sobrenome"]=> string(22) "Nobre Ferreira Martins" 
	["dataNascimento"]=> string(10) "15/09/1987" 
	["cpf"]=> string(14) "358.525.145-45" 
	}

$pessoa2 = new Pessoa();
$pessoa2->nome = "Matheus";
$pessoa2->sobrenome = "Nobre Martins Manuel";
$pessoa2->dataNascimento = "02/07/1989";
$pessoa2->cpf = "258.289.122-05";

var_dump($pessoa2);

RESULTADO:

object(Pessoa)#2 (4) { 
	["nome"]=> string(7) "Matheus" 
	["sobrenome"]=> string(20) "Nobre Martins Manuel" 
	["dataNascimento"]=> string(10) "02/07/1989" 
	["cpf"]=> string(14) "258.289.122-05" 
	}

</span></pre>

<h4 class="cyber-h">2. OBJETOS (Instâncias).</h4>

<p><strong>CLASSE</strong></p>


<pre><span class="code-block">
class Pessoa{
	public $cpf;
	public $nome;
}

$x = new Pessoa();
$y = new Pessoa();


$x->nome = "maria";
$x->cpf  = "123";

$y->nome = "joão";
$y->cpf  = "345";

$z = $y;
$z->cpf = "567";


var_dump($x);

var_dump($y);

var_dump($z);


object(Pessoa)#1 (2) { ["cpf"]=> string(3) "123" ["nome"]=> string(5) "maria" }
object(Pessoa)#2 (2) { ["cpf"]=> string(3) "567" ["nome"]=> string(5) "joão" }
object(Pessoa)#2 (2) { ["cpf"]=> string(3) "567" ["nome"]=> string(5) "joão" }

</span></pre>


<h4 class="cyber-h">3. MÉTODOS.</h4>

<p><strong>CLASSE</strong></p>


<pre><span class="code-block">
class Pessoa{
	public $cpf;
	public $nome;
	function falar(){
		echo "Oi!";
	}
}


$pessoa1 = new Pessoa();
$pessoa1->nome = "Lucas";

echo $pessoa1->falar()." ".$pessoa1->nome;

RESULTADO: Oi! Lucas

</span></pre>


<h4 class="cyber-h">4. REFERÊNCIA AO OBJETO ($this).</h4>

<p><strong>EXEMPLO</strong></p>


<pre><span class="code-block">
class Pessoa{
	public $cpf;
	public $nome;
	public $sobreNome;
	function nomeCompleto(){
		return $this->nome." ".$this->sobreNome;
	}
}

$pessoa = new Pessoa();
$pessoa->nome = "João";
$pessoa->sobreNome = "da Silva";

echo $pessoa->nomeCompleto();

RESULTADO: João da Silva

</span></pre>


<h4 class="cyber-h">5. MÉTODO CONSTRUTOR (__construct).</h4>

<p>Uma função executada quando é estanciado o OBJETO.</p>

<p><strong>EXEMPLO</strong></p>

<pre><span class="code-block">
class Pessoa{
	public $cpf;
	public $nome;
	function __construct(){
		echo "Nova Pessoa";
	}
}


$pessoa = new Pessoa();
$pessoa->nome = "maria";
$pessoa->cpf = "123";

print $pessoa->nome;

</span></pre>


<h4 class="cyber-h">6. MÉTODO DESTRUTOR (__destruct).</h4>

<p>Uma função executada quando é estanciado o OBJETO.</p>

<p><strong>EXEMPLO</strong></p>

<pre><span class="code-block">
class Pessoa{
	public $cpf;
	public $nome;
	function __construct(){
		echo "Nova Pessoa";
	}
	function __destruct(){
		echo "Objeto Removido";
	}
}


$pessoa = new Pessoa();
$pessoa->nome = "maria";
$pessoa->cpf = "123";

print $pessoa->nome;

</span></pre>


<h4 class="cyber-h">7. HERANÇA (extends).</h4>

<p>Uma classe herda características com outra.</p>

<p><strong>EXEMPLO</strong></p>

<pre><span class="code-block">
class Pessoa{
	public $nome;
}

class PessoaFisica extends Pessoa{
	public $cpf;
}

$a = new PessoaFisica();
$a->nome = "MARIA";
$a->cpf = 123;

var_dump($a);

RESULTADO: object(PessoaFisica)#1 (2) { ["nome"]=> string(5) "MARIA" ["cpf"]=> int(123) }

</span></pre>


<h4 class="cyber-h">8. HERANÇA com parent ( parent::função() ).</h4>

<p>Chamando a classe da função na função filho.</p>

<p><strong>EXEMPLO</strong></p>

<pre><span class="code-block">
class Pessoa{
	public $nome;
	public function falar(){
		return "Oi meu nome é ".$this->nome;
	}
}

class PessoaFisica extends Pessoa {
	public $cpf;
	public function falar(){
		return parent::falar(). " e meu CPF é ".$this->cpf;
	}
}

class PessoaJuridica extends Pessoa{
public $cnpj;
}


$pf1 = new PessoaFisica();
$pf1->nome = "Maria";
$pf1->cpf = 123;
echo $pf1->falar();

RESULTADO: Oi meu nome é Maria e meu CPF é 123

</span></pre>



<h4 class="cyber-h">9. TIPOS DE VARIÁVEIS DENTRO DE UMA FUNÇÃO.</h4>

<p>Chamando a classe da função na função filho.</p>

<p><strong>public:</strong></p>
<p>Torna uma variável / método disponível em qualquer lugar, outras classes e instâncias do objeto.</p>

<p><strong>protected:</strong></p>
<p>escopo para fazer a sua função / variavel ser visivel em todas as classes que estendem a classe atual, incluindo a classe pai.</p>

<p><strong>private:</strong></p>
<p>A função / variável só pode ser acessada dentro da propria classe.</p>

<p><strong>EXEMPLO</strong></p>


<pre><span class="code-block">
class Pai{
	public $publico;
	protected $protegido;
	private $privado;
		public function setProtegido($protegido){
			$this->protegido = $protegido."!";
		}

		public function getProtegido(){
			return $this->protegido();
		}

		private function segredo(){
			return "segredo";
		}
}

class Filho extends Pai{
	public function revelarSegredo(){
		return parent::segredo();
	}
}

$pai = new Pai();
$filho = new Filho();
$pai->publico = "abc";
$filho->publico = 123;
$filho->setProtegido("Legal");

echo $filho->getProtegido();
echo $filho->protegido;
echo $filho->revelarSegredo();

RESULTADO: Fatal error: Uncaught Error: Cannot access protected property Filho::$protegido in /srv/http/programacao/PHP/85Bits/Aula-05.php:327 Stack trace: #0 {main} thrown in /srv/http/programacao/PHP/85Bits/Aula-05.php on line 327

var_dump($pai);
var_dump($filho);

RESULTADO: object(Pai)#1 (3) { ["publico"]=> string(3) "abc" ["protegido":protected]=> NULL ["privado":"Pai":private]=> NULL } 
RESULTADO: object(Filho)#2 (3) { ["publico"]=> int(123) ["protegido":protected]=> string(6) "Legal!" ["privado":"Pai":private]=> NULL } 


</span></pre>



























